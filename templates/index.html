<!DOCTYPE html>
<html>
<head>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-8R6GZE2DCZ"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-8R6GZE2DCZ');
    </script>
    <!-- Font Awesome for Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <title>Crimson Meet</title>
    <link rel="stylesheet" href="/styles/main.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>Crimson Meet</h1>
        </header>

        <h3> Looking to meet new students and alumni for a half an hour coffee chat? Sign Up Now! </h3>
        <p> We’ll match you with up to 3 people & put you in touch through your university email. </p>

        <!-- Step 1: Email -->
        <div class="availability-step" id="step-email">
            <div class="input-card">
                <label for="email">University Email:</label>
                <div class="input-wrapper">
                    <i class="fas fa-envelope input-icon"></i>
                    <input type="email" id="email" pattern=".+\.edu$" title="Please use a .edu email address" required>
                </div>
                <span class="error-message" id="email-error">Please enter a valid .edu email address</span>
            </div>
            <button class="btn next-btn" id="next-to-locations">Next</button>
        </div>

        <!-- Step 2: Locations -->
        <div class="availability-step" id="step-locations" style="display: none;">
            <div class="input-group">
                <label>Meetup Locations:</label>
                <div class="checkbox-group locations-group single-row">
                    <div class="checkbox-item">
                        <input type="checkbox" id="kendall" name="locations" value="Kendall Square">
                        <label for="kendall">MIT/Kendall Square</label>
                    </div>
                    <div class="checkbox-item">
                        <input type="checkbox" id="harvard" name="locations" value="Harvard Square" checked>
                        <label for="harvard">Harvard Square</label>
                    </div>
                    <div class="checkbox-item">
                        <input type="checkbox" id="kenmore" name="locations" value="Kenmore Square">
                        <label for="kenmore">BU/Kenmore Square</label>
                    </div>
                    <div class="checkbox-item">
                        <input type="checkbox" id="davis" name="locations" value="Davis Square">
                        <label for="davis">Tufts/Davis Square</label>
                    </div>
                </div>
            </div>
            <button class="btn back-btn" id="back-to-email">Back</button>
            <button class="btn next-btn" id="next-to-availability">Next</button>
        </div>

        <!-- Step 3: Availability -->
        <div class="availability-step" id="step-availability" style="display: none;">
            <div class="email-date-row">
                <div class="input-card">
                    <label for="date">Date:</label>
                    <div class="input-wrapper">
                        <i class="fas fa-calendar-alt input-icon"></i>
                        <input type="date" id="date" required>
                    </div>
                    <span class="error-message" id="date-error">You can indicate more than one availability using "Add Time Slot" below</span>
                </div>
            </div>
            <div class="time-row">
                <div class="input-card">
                    <label for="start-time">Start Time:</label>
                    <div class="input-wrapper">
                        <i class="fas fa-clock input-icon"></i>
                        <input type="time" id="start-time" value="12:00" required>
                    </div>
                </div>
                <div class="input-card">
                    <label for="end-time">End Time:</label>
                    <div class="input-wrapper">
                        <i class="fas fa-clock input-icon"></i>
                        <input type="time" id="end-time" value="15:00" required>
                    </div>
                </div>
            </div>
            <h4>Adding at least 3 slots is recommended</h4>
            <button id="add-slot" class="btn">Add Time Slot</button>
            <div class="slots-section">
                <ul id="slots-list"></ul>
            </div>
            <button class="btn back-btn" id="back-to-locations">Back</button>
            <button class="btn next-btn" id="next-to-filters">Next</button>
        </div>

        <!-- Step 4: Filters -->
        <div class="availability-step" id="step-filters" style="display: none;">
            <div class="input-group additional-filters">
                <details>
                    <summary><label>Filters (Optional):</label></summary>
                    <div class="checkbox-group filters-group">
                        <div class="checkbox-item">
                            <input type="checkbox" id="opt-out-1to1" name="opt-out-1to1">
                            <label for="opt-out-1to1">Opt-out from 1-to-1 pairing (Only match with 2-3 users)</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="opt-out-repeat" name="opt-out-repeat">
                            <label for="opt-out-repeat">Opt-out from re-matching previous meetup partners</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="opt-out-same-school" name="school-match" class="school-filter">
                            <label for="opt-out-same-school">Opt-out from matches in my school</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="only-match-same-school" name="school-match" class="school-filter">
                            <label for="only-match-same-school">Only match people in my school</label>
                        </div>
                    </div>
                </details>
            </div>
            <button class="btn back-btn" id="back-to-availability">Back</button>
            <button id="submit-slots" class="btn primary">Submit Availability</button>
        </div>

        <!-- Hidden Experiences Section (Preserved) -->
        <div class="input-group experiences-section" style="display: none;">
            <label>Experiences open to:</label>
            <div class="checkbox-group">
                <div class="checkbox-item">
                    <input type="checkbox" name="experiences" value="Lunch/Coffee" checked> Lunch/Coffee
                </div>
                <div class="checkbox-item">
                    <input type="checkbox" name="experiences" value="Sightseeings/Museums"> Sightseeings/Museums
                </div>
                <div class="checkbox-item">
                    <input type="checkbox" name="experiences" value="Boardgames"> Boardgames
                </div>
                <div class="checkbox-item">
                    <input type="checkbox" name="experiences" value="Hiking/Outdoors"> Hiking/Outdoors
                </div>
                <div class="checkbox-item">
                    <input type="checkbox" name="experiences" value="K-TV"> K-TV
                </div>
                <div class="checkbox-item">
                    <input type="checkbox" name="experiences" value="Group Study"> Group Study
                </div>
                <div class="checkbox-item">
                    <input type="checkbox" name="experiences" value="Running"> Running
                </div>
                <div class="checkbox-item">
                    <input type="checkbox" name="experiences" value="Tennis"> Tennis
                </div>
                <div class="checkbox-item">
                    <input type="checkbox" name="experiences" value="Pool"> Pool
                </div>
                <div class="checkbox-item">
                    <input type="checkbox" name="experiences" value="Pingpong"> Pingpong
                </div>
                <div class="checkbox-item">
                    <input type="checkbox" name="experiences" value="Climbing"> Climbing
                </div>
                <div class="checkbox-item">
                    <input type="checkbox" name="experiences" value="Skiing/Snowboarding"> Skiing/Snowboarding
                </div>
                <div class="checkbox-item">
                    <input type="checkbox" name="experiences" value="Watching Sports"> Watching Sports
                </div>
                <div class="checkbox-item">
                    <input type="checkbox" name="experiences" value="Movies"> Movies
                </div>
                <div class="checkbox-item">
                    <input type="checkbox" name="experiences" value="Yoga"> Yoga
                </div>
                <div class="checkbox-item">
                    <input type="checkbox" name="experiences" value="Cycling"> Cycling
                </div>
            </div>
        </div>

        <!-- Data, Privacy & Safety Section (Unchanged) -->
        <section class="data-privacy">
            <details>
                <summary><h3 class="text-left">Data, Privacy & Safety</h3></summary>
                <p class="text-left">We collect only university email address required for pairing students into small groups. We do not share your information with anyone outside of the Crimson Meet team. While our rquirement for university email (alumni or student email) makes crimsonmeet community safer, we encourage users to take all neccessary precautions when meeting new people.</p>
                <h4>Please Note: Crimson Meet is NOT for Dating!</h4>
            </details>
        </section>

        <!-- Collapsible "About Us" Section (Unchanged) -->
        <section class="about-us">
            <details>
                <summary><h2 class="text-left about-heading">About Us</h2></summary>
                <p class="text-left">Crimson Meet encourages real-world connections in an increasingly digital world. Decades ago, people spent twice as much time meeting in person as they do now. With the rise of social media, we're more connected than ever, yet increasingly tied to our screens — often missing out on genuine, face-to-face interactions. Crimson Meet is a student-led initiative designed to foster small-group, in-person meetups, helping students form meaningful connections beyond their usual circles.</p>
                <p class="text-left">By randomly pairing students for small group meetups, we empower students to build communities, establish unexpected friendships, discover new inspirations which often come when we step outside our existing circles and bravely venture into new interactions.</p>
                <h3 class="text-left">Contact Us</h3>
                <p class="text-left">Andy Nadiradze (Founder): anadiradze@hks.harvard.edu</p>
                <h3 class="text-left">Acknowledgments</h3>
                <p class="text-left">Special thanks to Prof. Dhrumil Mehta, Prof. Aarushi Sahejpal for their guidance in developing the platform also to Prof. Todd Rogers, James Kane, Livia Rado, Memunatu Koroma for support.</p>
            </details>
        </section>

        <!-- Matching Preference Modal (Unchanged) -->
        <div id="matching-preference-modal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.5); justify-content: center; align-items: center; z-index: 1000;">
            <div style="background: white; padding: 30px; border-radius: 10px; text-align: center; max-width: 500px; width: 90%; position: relative;">
                <h2>Matching Preference</h2>
                <p>How would you like to be matched?</p>
                <div style="display: flex; justify-content: space-around; margin-top: 20px;">
                    <button id="match-all-slots" style="padding: 10px 20px; margin: 0 10px;">
                        Match on All Slots
                    </button>
                    <button id="match-one-slot" style="padding: 10px 20px; margin: 0 10px;">
                        Match on One Slot
                    </button>
                </div>
                <button id="close-modal" style="position: absolute; top: 10px; right: 10px;">✖</button>
            </div>
        </div>

        <footer class="text-center">
            <p>© 2025 Crimson Meet</p>
        </footer>
    </div>

    <script src="/scripts/availability.js"></script>
</body>
</html>